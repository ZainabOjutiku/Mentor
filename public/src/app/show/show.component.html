
<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta http-equiv="X-UA-Compatible" content="ie=edge">    <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
    <script type ="text/javascript" src="/socket.io/socket.io.js"></script>
    <link rel="stylesheet" type="text/css" href="/style.css">
    <link rel="stylesheet" href="https://stackpath.bootstrapcdn.com/bootstrap/4.3.1/css/bootstrap.min.css" integrity="sha384-ggOyR0iXCbMQv3Xipma34MD+dH/1fQ784/j6cY/iJTQUOhcWr7x9JvoRxT2MZw1T" crossorigin="anonymous">
    <title>Group Chat</title>
    <script type="text/javascript">
      var socket = io();
      var name = prompt("Please enter your name:","Name");
      var elem = document.getElementById('chatbox');
      socket.emit("new_user", {name:name});
      $("#btn").click(function(){
          socket.emit("new_message", {name:name, message:$('#msg').val()});
              $('#msg').val("");
      });
      socket.on('existing_messages', function(data){
          for(i in data)
              $("#chatbox").append("<p>"+data[i].name+": "+data[i].message+"</p>");
          elem.scrollTop = elem.scrollHeight;
      });
      socket.on('update_messages', function(data){
          $("#chatbox").append("<p>"+data.name+": "+data.message+"</p>");
          elem.scrollTop = elem.scrollHeight;
      });
      socket.on('user_disconnect', function(data){
          $("#chatbox").append("<p style='color:red'>"+data.name+" has left the chat"+"</p>");
          elem.scrollTop = elem.scrollHeight;
      });
      socket.on('display_new_user', function(data){
          $("#chatbox").append("<p style='color:green'>"+data.name+" has joined the chat"+"</p>");  	
          elem.scrollTop = elem.scrollHeight;
      });
    </script>
</head>
<body>
    <section class="content-section bg-light" id="about">
        <div class="container " *ngIf="viewMentor.id!=='' ">
      
          <!-- Portfolio Item Row -->
          <div class="row">
      
            <div class="col-md-3">
              <img class="img-fluid" src="{{viewMentor.url}}" alt="">
            </div>
      
            <div class="col-md-4">
              <h1 class="my-4">{{viewMentor.name}} ⭐</h1>
              <p class="text-secondary mb-0">{{viewMentor.skills}}</p>
              <h3 class="my-3">About Me</h3>
              <p>{{viewMentor.description}}</p>
              <h3 class="my-3">Ratings</h3>
              <div class="card">
                <h5 class="card-header">Reviews</h5>
                <div class="card-body">
                  <h5 class="card-title">Average Rating:{{viewMentor.avgRating}}</h5>
                  <div *ngFor= 'let rating of viewMentor.ratings'>
                    <p *ngIf="rating.stars == 1">⭐</p>
                    <p *ngIf="rating.stars == 2">⭐⭐</p>
                    <p *ngIf="rating.stars == 3">⭐⭐⭐</p>
                    <p *ngIf="rating.stars == 4">⭐⭐⭐⭐</p>
                    <p *ngIf="rating.stars == 5">⭐⭐⭐⭐⭐</p>
                    <p>{{rating.reviews}}</p>
      
                  <small class="text-muted">Posted by {{rating.name}} on 3/1/17</small>
                  <hr>
                  </div>
                  <h5 class="card-title">Add a Review:</h5>
                  <form (submit)='addRating(viewMentor._id, stars, reviews,name)'>
                    <select #stars>
                      <option value= '1'> ⭐</option>
                      <option value= '2'> ⭐⭐</option>
                      <option value= '3'> ⭐⭐⭐</option>
                      <option value= '4'> ⭐⭐⭐⭐</option>
                      <option value= '5'> ⭐⭐⭐⭐⭐</option>
                    </select>
                    Comments:<input type="text" placeholder="Comment" #reviews>
                    Name:<input type="text" placeholder="name" #name >
                    <input type="submit" value="Add Your Review">
                  </form>
      <!--            <a href="#" class="btn btn-primary">Go somewhere</a>-->
                <!-- <a [routerLink]="['/chat']">Chat with one of our mentor</a> -->
                </div>
              </div>
            </div>
      
            <div id="container"class="col-md-5" >
             
                <h1 id="title"><u>Conversation Board</u></h1>
                <img src="https://im2.ezgif.com/tmp/ezgif-2-4ccef44b3020.png" alt="" style="width: 500px;">
                <!-- <div id="chatbox"></div>
                <input id="msg" type="text">
                <button id="btn">Send</button> -->
               
            </div>

          </div>
          </div>
        <!-- <router-outlet></router-outlet> -->
      
      </section>
<!--       
 
    
</section> -->
</body>


</html>
